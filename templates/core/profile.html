

<!-- core/templates/core/profile.html -->

{% extends 'base.html' %}
{% load gravatar %}
{% load static %}

{% block content %}
<div class="container mx-auto p-4">
    <div class="flex flex-col items-center bg-white p-8 rounded-lg shadow-md">
        <h2 class="text-2xl font-semibold mb-4">Profile for {{ user_profile.username }}</h2>
        <img src="{{ user_profile|gravatar_url:100 }}" alt="{{ user_profile.username }}'s avatar" class="rounded-full mb-4">
        
        <!-- Update Profile Button -->
        <a href="{% url 'core:profile_edit' %}" class="btn btn-primary mb-6 flex items-center justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M15.232 5.232l3.536 3.536M9.879 19.879l-3.536-3.536M14.121 14.121l-4.95 4.95a1.5 1.5 0 01-2.121 0l-4.95-4.95a1.5 1.5 0 010-2.121l4.95-4.95a1.5 1.5 0 012.121 0l4.95 4.95a1.5 1.5 0 010 2.121z" />
            </svg>
            Update Profile
        </a>

        <!-- ArenasProfile Score Track Chart -->
        <div class="w-full max-w-2xl mb-8">
            <h3 class="text-xl font-semibold mb-4">Score Progression Over Time</h3>
            <div id="scoreTrackChart" class="w-full h-64"></div>
        </div>

        <!-- GuideSetProfile Completions Bar Chart -->
        <div class="w-full max-w-2xl mb-8">
            <h3 class="text-xl font-semibold mb-4">Completions by Guide Set</h3>
            <div id="completionsChart" class="w-full h-64"></div>
        </div>

        <!-- Optional: Display completions_by_guide -->
        <div class="w-full max-w-md mb-6">
            <h3 class="text-xl font-semibold mb-2">Completions by Guide Set</h3>
            <ul id="completionsByGuide" class="list-disc list-inside">
                <!-- Filled by JavaScript -->
            </ul>
        </div>
    </div>
</div>

{% endblock content %}

{% block page_js %} 
<!-- Include Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-2.35.2.min.js" charset="utf-8"></script>
<!-- Include Plotly.js -->

<script>
    document.addEventListener('DOMContentLoaded', function() {
    });
</script>
{% endblock %}
