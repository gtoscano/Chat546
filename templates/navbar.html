<!-- core/navbar.html -->
{% load static %}
{% load gravatar %}
{% load group_tags %}


<div class="navbar fixed top-0 left-0 right-0 z-10 bg-base-100 text-base-content text-xl">
    <div class="flex-1">
        <a href="/" class="btn btn-ghost">
            <img src="{% static 'logos/logo.png' %}" alt="IgniteHub Logo" class="h-10 w-auto">
        </a>
    </div>

    <div class="flex-none flex gap-2 items-center">
        <ul class="menu menu-horizontal px-1 hidden lg:flex">
            <li><a href="/">Home</a></li>
            <li><a href="{% url 'chats:chat_page' %}"> Chat546</a></li>
            <li><a href="{% url 'core:contact' %}">Contact</a></li>
        </ul>

        <div class="dropdown dropdown-end lg:hidden">
            <label tabindex="0" class="btn btn-ghost">
                <span class="material-symbols-outlined">menu</span>
            </label>
            <ul tabindex="0" class="menu dropdown-content p-2 bg-base-100 shadow">
                <li><a href="/">Home</a></li>
                <li><a href="{% url 'chats:chat_page' %}"> Chat546</a></li>
                <li><a href="{% url 'core:contact' %}">Contact</a></li>
            </ul>
        </div>

        <div class="flex items-center">
            <button id="theme-toggle" class="btn btn-ghost">
                <span id="theme-toggle-icon" class="material-symbols-outlined">dark_mode</span>
            </button>
        </div>

        <div class="dropdown dropdown-end">
            <label tabindex="0" class="btn btn-ghost btn-circle avatar">
                <div class="w-10 rounded-full">
                    {% if user.is_authenticated %}
                        <img src="{{ user|gravatar_url:40 }}" alt="{{ user.username }}'s avatar" class="rounded-full">
                    {% else %}
                        <span class="material-symbols-outlined">
                            account_circle
                        </span>
                    {% endif %}
                </div>
            </label>
            <ul tabindex="0" class="mt-3 z-[1] p-2 shadow menu menu-sm dropdown-content bg-base-100 rounded-box w-52">
                {% if not user.is_authenticated %}
                    <li><a href="{% url 'account_login' %}">Login</a></li>
                    <li><a href="{% url 'account_signup' %}">Sign Up</a></li>
                {% else %}
                    <li><a href="{% url 'core:profile' %}">Profile</a></li>
                    <li><a href="{% url 'account_logout' %}">Logout</a></li>
                {% endif %}
            </ul>
        </div>
    </div>
</div>
